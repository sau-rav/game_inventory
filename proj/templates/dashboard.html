{% extends "user_template.html" %}
{% block username %}
  {{ name }}
{% endblock username %}
{% block content %}
  <div class="alert alert-dark" style="text-align: center;" role="alert">
    Dashboard
  </div>
  {% for game in game_list %}
  <article class="media content-section">
      <div class="media-left">
        <img src="{{ game[8] }}" class="media-object" style="width: 200px; height: 130px;">
      </div>
      <div class="media-body">
        <a href="{{ url_for('game_page', id=game[0]) }}"><h2 class="font-weight-normal ml-3 ">{{ game[1] }}</h2></a>
        <h6 class="font-weight-light ml-3">{{ game[2] }}</h6>
        <hr class="ml-3 mr-3">
        <div class="ml-3">
          {% for category in game[9] %}
            <a class="btn btn-light btn-sm" href="{{ url_for('index', query=category, query_type=1) }}">{{ category }}</a>
          {% endfor %}
        </div>
      </div>
  </article>
  {% endfor %}
  {% for page_num in range(disp_list|length) %}
  {% if page_num > 0 and disp_list[page_num] != disp_list[page_num-1]+1 %}
    <a>....</a>
  {% endif %}
  {% if disp_list[page_num] == page %}
    {% if filter %}
      <a class="btn btn-info mb-4" href="{{ url_for('dashboard', page = disp_list[page_num]) }}">{{ disp_list[page_num] }}</a>    
    {% else %}
      <a class="btn btn-info mb-4" href="{{ url_for('dashboard', page = disp_list[page_num]) }}">{{ disp_list[page_num] }}</a>
    {% endif %}
  {% else %}
    {% if filter %}
      <a class="btn btn-outline-info mb-4" href="{{ url_for('dashboard', page = disp_list[page_num]) }}">{{ disp_list[page_num] }}</a>
    {% else %}
      <a class="btn btn-outline-info mb-4" href="{{ url_for('dashboard', page = disp_list[page_num]) }}">{{ disp_list[page_num] }}</a>
    {% endif %}
  {% endif %}
  {% endfor %}
  <div class="container mt-2" style="background-color: rgb(240, 240, 240); border-radius: 2px;">
    <h3 class="font-weight-normal" style="padding-top: 12px;">Recommended Games</h3> 
    <div id="carousel_similar" class="carousel" style="padding-left: 5px;" data-ride="carousel">
        <ol class="carousel-indicators">
            <li data-target="#carousel_similar" data-slide-to="0" class="active"></li>
            <li data-target="#carousel_similar" data-slide-to="1"></li>
            <li data-target="#carousel_similar" data-slide-to="2"></li>
        </ol>
        <div class="carousel-inner">
            <div class="carousel-item active">
              <table>
                <tr>
                    {% if recommended_games[0] %}
                        <td style="padding-left: 5px; padding-right: 5px;"><a href="{{ url_for('game_page', id=recommended_games[0][0]) }}"><img class="d-inline md-3" style="width: 220px; height: 140px;" src="{{ recommended_games[0][2] }}"></a></td>
                    {% else %}
                        <td><img src="/static/no_data.png" style="width: 220px; height: 140px;"></td>
                    {% endif %}
                    {% if recommended_games[1] %}
                        <td style="padding-left: 5px; padding-right: 5px;"><a href="{{ url_for('game_page', id=recommended_games[1][0]) }}"><img class="d-inline md-3" style="width: 220px; height: 140px;" src="{{ recommended_games[1][2] }}"></a></td>
                    {% else %}
                        <td><img src="/static/no_data.png" style="width: 220px; height: 140px;"></td>
                    {% endif %}
                    {% if recommended_games[2] %}
                        <td style="padding-left: 5px; padding-right: 5px;"><a href="{{ url_for('game_page', id=recommended_games[2][0]) }}"><img class="d-inline md-3" style="width: 220px; height: 140px;" src="{{ recommended_games[2][2] }}"></a></td>
                    {% else %}
                        <td><img src="/static/no_data.png" style="width: 220px; height: 140px;"></td>
                    {% endif %}
                </tr>
                <tr>
                    {% if recommended_games[0] %}
                        <td style="padding-left: 5px; padding-right: 5px; text-align: center;"><a href="{{ url_for('game_page', id=recommended_games[0][0]) }}">{{ recommended_games[0][1][:28] }}</a></td>
                    {% else %}
                        <td style="padding-left: 5px; padding-right: 5px; text-align: center;">No Data</td>
                    {% endif %}
                    {% if recommended_games[1] %}
                        <td style="padding-left: 5px; padding-right: 5px; text-align: center;"><a href="{{ url_for('game_page', id=recommended_games[1][0]) }}">{{ recommended_games[1][1][:28] }}</a></td>
                    {% else %}
                        <td style="padding-left: 5px; padding-right: 5px; text-align: center;">No Data</td>
                    {% endif %}
                    {% if recommended_games[2] %}
                        <td style="padding-left: 5px; padding-right: 5px; text-align: center;"><a href="{{ url_for('game_page', id=recommended_games[2][0]) }}">{{ recommended_games[2][1][:28] }}</a></td>
                    {% else %}
                        <td style="padding-left: 5px; padding-right: 5px; text-align: center;">No Data</td>
                    {% endif %}
                </tr>
              </table>
            </div>
            <div class="carousel-item">
              <table>
                <tr>
                    {% if recommended_games[3] %}
                        <td style="padding-left: 5px; padding-right: 5px;"><a href="{{ url_for('game_page', id=recommended_games[3][0]) }}"><img class="d-inline md-3" style="width: 220px; height: 140px;" src="{{ recommended_games[3][2] }}"></a></td>
                    {% else %}
                        <td><img src="/static/no_data.png" style="width: 220px; height: 140px;"></td>
                    {% endif %}
                    {% if recommended_games[4] %}
                        <td style="padding-left: 5px; padding-right: 5px;"><a href="{{ url_for('game_page', id=recommended_games[4][0]) }}"><img class="d-inline md-3" style="width: 220px; height: 140px;" src="{{ recommended_games[4][2] }}"></a></td>
                    {% else %}
                        <td><img src="/static/no_data.png" style="width: 220px; height: 140px;"></td>
                    {% endif %}
                    {% if recommended_games[5] %}
                        <td style="padding-left: 5px; padding-right: 5px;"><a href="{{ url_for('game_page', id=recommended_games[5][0]) }}"><img class="d-inline md-3" style="width: 220px; height: 140px;" src="{{ recommended_games[5][2] }}"></a></td>
                    {% else %}
                        <td><img src="/static/no_data.png" style="width: 220px; height: 140px;"></td>
                    {% endif %}
                </tr>
                <tr>
                    {% if recommended_games[3] %}
                        <td style="padding-left: 5px; padding-right: 5px; text-align: center;"><a href="{{ url_for('game_page', id=recommended_games[3][0]) }}">{{ recommended_games[3][1][:28] }}</a></td>
                    {% else %}
                        <td style="padding-left: 5px; padding-right: 5px; text-align: center;">No Data</td>
                    {% endif %}
                    {% if recommended_games[4] %}
                        <td style="padding-left: 5px; padding-right: 5px; text-align: center;"><a href="{{ url_for('game_page', id=recommended_games[4][0]) }}">{{ recommended_games[4][1][:28] }}</a></td>
                    {% else %}
                        <td style="padding-left: 5px; padding-right: 5px; text-align: center;">No Data</td>
                    {% endif %}
                    {% if recommended_games[5] %}
                        <td style="padding-left: 5px; padding-right: 5px; text-align: center;"><a href="{{ url_for('game_page', id=recommended_games[5][0]) }}">{{ recommended_games[5][1][:28] }}</a></td>
                    {% else %}
                        <td style="padding-left: 5px; padding-right: 5px; text-align: center;">No Data</td>
                    {% endif %}
                </tr>
              </table>
            </div>
            <div class="carousel-item">
              <table>
                <tr>
                    {% if recommended_games[6] %}
                        <td style="padding-left: 5px; padding-right: 5px;"><a href="{{ url_for('game_page', id=recommended_games[6][0]) }}"><img class="d-inline md-3" style="width: 220px; height: 140px;" src="{{ recommended_games[6][2] }}"></a></td>
                    {% else %}
                        <td><img src="/static/no_data.png" style="width: 220px; height: 140px;"></td>
                    {% endif %}
                    {% if recommended_games[7] %}
                        <td style="padding-left: 5px; padding-right: 5px;"><a href="{{ url_for('game_page', id=recommended_games[7][0]) }}"><img class="d-inline md-3" style="width: 220px; height: 140px;" src="{{ recommended_games[7][2] }}"></a></td>
                    {% else %}
                        <td><img src="/static/no_data.png" style="width: 220px; height: 140px;"></td>
                    {% endif %}
                    {% if recommended_games[8] %}
                        <td style="padding-left: 5px; padding-right: 5px;"><a href="{{ url_for('game_page', id=recommended_games[8][0]) }}"><img class="d-inline md-3" style="width: 220px; height: 140px;" src="{{ recommended_games[8][2] }}"></a></td>
                    {% else %}
                        <td><img src="/static/no_data.png" style="width: 220px; height: 140px;"></td>
                    {% endif %}
                </tr>
                <tr>
                    {% if recommended_games[6] %}
                        <td style="padding-left: 5px; padding-right: 5px; text-align: center;"><a href="{{ url_for('game_page', id=recommended_games[6][0]) }}">{{ recommended_games[6][1][:28] }}</a></td>
                    {% else %}
                        <td style="padding-left: 5px; padding-right: 5px; text-align: center;">No Data</td>
                    {% endif %}
                    {% if recommended_games[7] %}
                        <td style="padding-left: 5px; padding-right: 5px; text-align: center;"><a href="{{ url_for('game_page', id=recommended_games[7][0]) }}">{{ recommended_games[7][1][:28] }}</a></td>
                    {% else %}
                        <td style="padding-left: 5px; padding-right: 5px; text-align: center;">No Data</td>
                    {% endif %}
                    {% if recommended_games[8] %}
                        <td style="padding-left: 5px; padding-right: 5px; text-align: center;"><a href="{{ url_for('game_page', id=recommended_games[8][0]) }}">{{ recommended_games[8][1][:28] }}</a></td>
                    {% else %}
                        <td style="padding-left: 5px; padding-right: 5px; text-align: center;">No Data</td>
                    {% endif %}
                </tr>
              </table>
            </div>
        </div>
        <a class="carousel-control-prev" href="#carousel_similar" role="button" data-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="sr-only">Previous</span>
        </a>
        <a class="carousel-control-next" href="#carousel_similar" role="button" data-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="sr-only">Next</span>
        </a>
    </div>
    <hr>
  </div>
{% endblock content %}